@model List<sadu.Models.Submission>

@if (Model.Count() == 0)
{
    <div class="no-pending-submissions-msg">
        <p>No pending submissions.</p>
    </div>
}
@for (var i = 0; i < Model.Count();)
{
    <div class="row">
        @*2 columns per row*@
        @for (var j = 0; j < 2; j++, i++)
        {
            if (i >= Model.Count())
            {
                break;
            }
            <div class="col col-sm-6 cardDiv">
                <div class="card" id="@Model.ElementAt(i).Id">
                    <h4 class="header">@Model.ElementAt(i).title</h4>
                    <hr />
                    <div class="content">
                        <span class="card-label">Deadline: </span> @Model.ElementAt(i).date_deadline
                        <br />
                        @if (!(bool)Session["isAdmin"])
                        {
                            <span class="card-label">Upload: </span>
                            <label class="btn btn-primary btn-browse">
                                Browse <input type="file"
                                              accept="application/msword, application/vnd.ms-excel,
                                                      application/vnd.ms-powerpoint, text/plain, application/pdf"
                                              id="file@(Model.ElementAt(i).Id)"
                                              name="file@(Model.ElementAt(i).Id)"
                                              onchange="uploadFile(this);"
                                              style="display: none;"
                                              multiple>
                            </label>
                                <div class="progress hidden">
                                    <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                         aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                                        Uploading
                                    </div>
                                </div>
                        }
                        <div id="uploadsDiv@(Model.ElementAt(i).Id)"></div>
                        <div class="footer">
                            <hr>
                            <div class="stats">
                                <i class="fa fa-calendar"></i> Created on @Model.ElementAt(i).date_created
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                updateUploadsPartialView(@Model.ElementAt(i).Id);
            </script>
        }

    </div>

}